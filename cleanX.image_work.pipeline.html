
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>cleanX.image_work.pipeline module &#8212; cleanX 0.0.15 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="cleanX.image_work.steps module" href="cleanX.image_work.steps.html" />
    <link rel="prev" title="cleanX.image_work.journaling_pipeline module" href="cleanX.image_work.journaling_pipeline.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cleanX.image_work.steps.html" title="cleanX.image_work.steps module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cleanX.image_work.journaling_pipeline.html" title="cleanX.image_work.journaling_pipeline module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cleanX 0.0.15 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="cleanX.html" >cleanX package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cleanX.image_work.html" accesskey="U">cleanX.image_work package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cleanX.image_work.pipeline module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-cleanX.image_work.pipeline">
<span id="cleanx-image-work-pipeline-module"></span><h1>cleanX.image_work.pipeline module<a class="headerlink" href="#module-cleanX.image_work.pipeline" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.MultiSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.pipeline.</span></span><span class="sig-name descname"><span class="pre">MultiSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.MultiSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to append multiple sources such as <a class="reference internal" href="#cleanX.image_work.pipeline.GlobSource" title="cleanX.image_work.pipeline.GlobSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobSource</span></code></a> or
<a class="reference internal" href="#cleanX.image_work.pipeline.DirectorySource" title="cleanX.image_work.pipeline.DirectorySource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DirectorySource</span></code></a>.  All source classes implement iterator
interface.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.MultiSource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.MultiSource.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes this iterator with multiple sources in a way similar
to <code class="code docutils literal notranslate"><span class="pre">itertools.chain()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> (<code class="code docutils literal notranslate"><span class="pre">Sequence</span></code>) – A sequence of sources, such as <a class="reference internal" href="#cleanX.image_work.pipeline.GlobSource" title="cleanX.image_work.pipeline.GlobSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobSource</span></code></a>
or <a class="reference internal" href="#cleanX.image_work.pipeline.DirectorySource" title="cleanX.image_work.pipeline.DirectorySource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DirectorySource</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.MultiSource.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.MultiSource.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator implementation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.GlobSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.pipeline.</span></span><span class="sig-name descname"><span class="pre">GlobSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.GlobSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class that creates an iterator to list all files matching
glob pattern.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.GlobSource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.GlobSource.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes this iterator with the arguments to be passed to
<code class="code docutils literal notranslate"><span class="pre">glob.glob()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> (<code class="code docutils literal notranslate"><span class="pre">Union[str,</span> <span class="pre">bytes]</span></code>) – Expression to be passed to <code class="code docutils literal notranslate"><span class="pre">glob.glob()</span></code></p></li>
<li><p><strong>recursive</strong> – Controls the interpretation of <code class="code docutils literal notranslate"><span class="pre">**</span></code>
pattern.  If <code class="code docutils literal notranslate"><span class="pre">True</span></code>, will interpret it
to mean any number of path fragments.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.GlobSource.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.GlobSource.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator implementation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.DirectorySource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.pipeline.</span></span><span class="sig-name descname"><span class="pre">DirectorySource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jpg'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.DirectorySource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class that creates an iterator to look at files in the given
directory.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.DirectorySource.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jpg'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.DirectorySource.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes this iterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (Must be valid for <code class="code docutils literal notranslate"><span class="pre">os.path.join()</span></code>) – The directory in which to look for images.</p></li>
<li><p><strong>extension</strong> – A glob pattern for fle extension.  Whether
it is case-sensitive depends on the
filesystem being used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.DirectorySource.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.DirectorySource.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator implementation.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.PipelineError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.pipeline.</span></span><span class="sig-name descname"><span class="pre">PipelineError</span></span><a class="headerlink" href="#cleanX.image_work.pipeline.PipelineError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></p>
<p>These errors are reported when pipeline encounters errors with
reading or writing images.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.Pipeline">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.pipeline.</span></span><span class="sig-name descname"><span class="pre">Pipeline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class is the builder for the image processing pipeline.</p>
<p>This class executes a sequence of <a class="reference internal" href="cleanX.image_work.steps.html#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a>.  It attempts to
execute as many steps as possible in parallel.  However, in order
to avoid running out of memory, it saves the intermediate results
to the disk.  You can control the number of images processed at
once by specifying <code class="code docutils literal notranslate"><span class="pre">batch_size</span></code> parameter.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.Pipeline.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.Pipeline.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes this pipeline, but doesn’t start its execution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>steps</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="cleanX.image_work.steps.html#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><em>Step</em></a><em>]</em>) – A sequence of <a class="reference internal" href="cleanX.image_work.steps.html#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">Step</span></code></a> this pipeline should
execute.</p></li>
<li><p><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The number of images that will be processed
in parallel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.Pipeline.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.Pipeline.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts this pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>Iterable</em>) – This must be an iterable that yields file names
for the images to be processed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.Pipeline.process_step">
<span class="sig-name descname"><span class="pre">process_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srciter</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.Pipeline.process_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.Pipeline.process_batch_agg">
<span class="sig-name descname"><span class="pre">process_batch_agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.Pipeline.process_batch_agg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.pipeline.Pipeline.process_batch_parallel">
<span class="sig-name descname"><span class="pre">process_batch_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.pipeline.Pipeline.process_batch_parallel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="cleanX.image_work.journaling_pipeline.html"
                          title="previous chapter">cleanX.image_work.journaling_pipeline module</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="cleanX.image_work.steps.html"
                          title="next chapter">cleanX.image_work.steps module</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cleanX.image_work.pipeline.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cleanX.image_work.steps.html" title="cleanX.image_work.steps module"
             >next</a> |</li>
        <li class="right" >
          <a href="cleanX.image_work.journaling_pipeline.html" title="cleanX.image_work.journaling_pipeline module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cleanX 0.0.15 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="cleanX.html" >cleanX package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cleanX.image_work.html" >cleanX.image_work package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cleanX.image_work.pipeline module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, doctormakeda@gmail.com.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.0.1.
    </div>
  </body>
</html>