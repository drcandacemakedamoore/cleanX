
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>cleanX.image_work.steps module &#8212; cleanX 0.1.13 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="cleanX.image_work.pipeline module" href="cleanX.image_work.pipeline.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cleanX.image_work.pipeline.html" title="cleanX.image_work.pipeline module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cleanX 0.1.13 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="cleanX.html" >cleanX package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cleanX.image_work.html" accesskey="U">cleanX.image_work package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cleanX.image_work.steps module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-cleanX.image_work.steps">
<span id="cleanx-image-work-steps-module"></span><h1>cleanX.image_work.steps module<a class="headerlink" href="#module-cleanX.image_work.steps" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="cleanX.image_work.steps.get_known_steps">
<span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">get_known_steps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.get_known_steps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.RegisteredStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">RegisteredStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clsdict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.RegisteredStep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#type" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.RegisteredStep.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clsdict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.RegisteredStep.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.RegisteredStep.mro">
<span class="sig-name descname"><span class="pre">mro</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.RegisteredStep.mro" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a type’s method resolution order.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class has default implementations for methods all steps are
expected to implement.</p>
<p>Use this as the base class if you intend to add custom steps.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Step.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Step.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class has default implementations for methods all aggregate steps are
expected to implement. These types of steps combine and accumalte data on
the individual images processed in a step.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.pre">
<span class="sig-name descname"><span class="pre">pre</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.pre" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accumulator</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.agg">
<span class="sig-name descname"><span class="pre">agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acc_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.agg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.aggregate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Aggregate.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Aggregate.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Aggregate" title="cleanX.image_work.steps.Aggregate"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Aggregate</span></code></a></p>
<p>This class builds an averaged (by mean) image.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.agg">
<span class="sig-name descname"><span class="pre">agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acc_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.agg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.aggregate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.pre">
<span class="sig-name descname"><span class="pre">pre</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.pre" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Mean.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Mean.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">GroupHistoHtWt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histo_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Aggregate" title="cleanX.image_work.steps.Aggregate"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Aggregate</span></code></a></p>
<p>This class builds a histogram of individual image heights and widths.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histo_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.agg">
<span class="sig-name descname"><span class="pre">agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acc_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.agg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.aggregate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.pre">
<span class="sig-name descname"><span class="pre">pre</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.pre" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoHtWt.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoHtWt.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">GroupHistoPorportion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histo_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Aggregate" title="cleanX.image_work.steps.Aggregate"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Aggregate</span></code></a></p>
<p>This class makes a histogram of all the image’s proportions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">histo_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.agg">
<span class="sig-name descname"><span class="pre">agg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acc_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.agg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">accum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.aggregate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.pre">
<span class="sig-name descname"><span class="pre">pre</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.pre" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.GroupHistoPorportion.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.GroupHistoPorportion.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Acquire</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class reads in images (to an array) from a path</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Acquire.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Acquire.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jpg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class writes the images somewhere</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jpg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Save.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Save.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">FourierTransf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class makes a fourier transformation of the image</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.FourierTransf.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.FourierTransf.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">ContourImage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class makes a transformation into a many line
contour based image from the original image</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ContourImage.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ContourImage.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">ProjectionHorizoVert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class makes a transformation into a projection of the image.
The projections of horizontal and vertical are superimposed. These
one dimensional projection images can be used for image registration
algorithms, quality control or other purposes</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.ProjectionHorizoVert.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.ProjectionHorizoVert.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">BlackEdgeCrop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class crops image arrays of black frames</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlackEdgeCrop.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlackEdgeCrop.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">WhiteEdgeCrop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class crops image arrays of white frames</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.WhiteEdgeCrop.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.WhiteEdgeCrop.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Sharpie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(2,</span> <span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class takes the image and applies a variant of the subtle_sharpie
function, but with control over the degree. In present version,
it is recommended to run on copies.
In future versions can be run after a Tee step. For a subtle sharpening
a ksize of (2,2) is recommended, and a run of normalization afterwards is
highly recommended (or you may get vals over 255 for whites)</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(2,</span> <span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Sharpie.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Sharpie.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">BlurEdges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(600,</span> <span class="pre">600)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class takes the image and applies a variant of the blur out
edges  function, which does what it sounds like (returns an image with
edges blurred out called edge_image). For a good effect a ksize of
(600,600) is recommended. In present version,it is recommended to run on
copies.In future versions can be run after a Tee step.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(600,</span> <span class="pre">600)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.BlurEdges.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.BlurEdges.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">CleanRotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class takes the image and applies a rotation  function,
with control over the degree. It crops off black added (makes smaller
borders, but will not crop existing borders) In present version, it is
recommended to run on copies. In future versions can be run after a Tee
step.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.CleanRotate.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.CleanRotate.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class makes a simple normalizing to get values 0 to 255.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Normalize.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Normalize.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">HistogramNormalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tail_cut_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class allows normalization by throwing off extreme values on
image histogram.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tail_cut_percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.HistogramNormalize.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.HistogramNormalize.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">OtsuBinarize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class makes binarized images with values of only 0 to 255, based on
an Otsu segmentation with more or less blurring. ksize parameter should
be between 1 and 99, and odd</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuBinarize.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuBinarize.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">OtsuLines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class makes an outline around a segemnted image segmented based on
the an Otsu segmentation with more or less blurring. ksize parameter should
be between 1 and 99, and odd</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.OtsuLines.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.OtsuLines.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cleanX.image_work.steps.</span></span><span class="sig-name descname"><span class="pre">Projection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleanX.image_work.steps.Step" title="cleanX.image_work.steps.Step"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleanX.image_work.steps.Step</span></code></a></p>
<p>This class makes two one dimensional projections on the same graph,
one for horizontal, and one for vertical. Projections can be used in many
processes including registration, and analysis.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the method that will be called to do the actual image
transformation.  This function must not raise exceptions, as it
is used in the <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Unless this class overrides the defaults, this
will be <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – Will be the data obtained when calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.read" title="cleanX.image_work.steps.Step.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
processed image data.  This should be suitable for the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of this class to write.
Second is the error, if procesing wasn’t possible.  Only
one element of the tuple should be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cache_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>If you extend this class, you need to call its <code class="code docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.__reduce__">
<span class="sig-name descname"><span class="pre">__reduce__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.__reduce__" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.begin_transaction">
<span class="sig-name descname"><span class="pre">begin_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.commit_transaction">
<span class="sig-name descname"><span class="pre">commit_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.commit_transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.from_cmd_args">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_cmd_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.from_cmd_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the image saved in the previous step.  This function must not
raise exceptions as it is used in <code class="code docutils literal notranslate"><span class="pre">multiprocessing</span></code> context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – The path to the image to read.  Unless the
<a class="reference internal" href="#cleanX.image_work.steps.Step.write" title="cleanX.image_work.steps.Step.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write()</span></code></a> method of the previous step
was modified to do it differently, the format
of the data in the file is the serialized NumPy array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This method should return two values.  First is the
image data read from <code class="code docutils literal notranslate"><span class="pre">path</span></code>.  It should be in the
format suitable for <a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a>.  Second is the
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a> if the read was not successful.  Only
one element in the tuple may be <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)">numpy.ndarray</a>, <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.to_json">
<span class="sig-name descname"><span class="pre">to_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.to_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cleanX.image_work.steps.Projection.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cleanX.image_work.steps.Projection.write" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should write the image data to make it available for
the next step.  Default implementation use NumPy’s persistence
format.  This method is used in <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#module-multiprocessing" title="(in Python v3.10)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> context,
therefore it must not raise exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>image_data</strong> (Default implementation uses <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.22)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>.) – This is the result from calling
<a class="reference internal" href="#cleanX.image_work.steps.Step.apply" title="cleanX.image_work.steps.Step.apply"><code class="xref py py-meth docutils literal notranslate"><span class="pre">apply()</span></code></a> method of this class.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Exception if it was raised during the execution, or
<code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.10)">Exception</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="cleanX.image_work.pipeline.html"
                        title="previous chapter">cleanX.image_work.pipeline module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/cleanX.image_work.steps.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cleanX.image_work.pipeline.html" title="cleanX.image_work.pipeline module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">cleanX 0.1.13 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="cleanX.html" >cleanX package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cleanX.image_work.html" >cleanX.image_work package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">cleanX.image_work.steps module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, doctormakeda@gmail.com.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>